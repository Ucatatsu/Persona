# Changelog

Все изменения проекта Квант Мессенджер.
Формат версий: KVS (Kvant Version System) — `{MAJOR}{ERA}{FEATURE}{TYPE}{PATCH}`

---

## [1A6a1] - 2025-12-15

### Добавлено
- Кроппер для обоев: выбор области изображения для фона чата
- Сетка 3x3 для удобного позиционирования
- Ручки по углам для изменения размера области
- Поддержка drag & touch для перемещения и ресайза

### Исправлено
- Координаты перетаскивания теперь относительно изображения

---

## [1A5r5] - 2025-12-15

### Исправлено
- Кнопки мут/камера в звонках корректно переключают SVG иконки
- Работа attach/emoji кнопок в группах, каналах и серверах
- Убрано дублирование Premium badge (удалён CSS ::after)
- Аватарки больше не накладываются в заголовке чата

### Изменено
- Кнопки expand/compress фона заменены на SVG иконки
- Обновлены togglePanelMic/togglePanelCam для работы с SVG
- Premium+ добавлен в админ-панель

---

## [1A5r4] - 2025-12-15

### Исправлено
- Класс dock-img для корректного отображения иконок
- updateChatHeader очищает backgroundImage перед установкой аватара

---

## [1A5r3] - 2025-12-15

### Изменено
- Заменены все эмодзи в dock-панели на SVG иконки
- Заменены эмодзи в табах создания (группа, канал, сервер)
- Premium индикаторы используют dimond.svg
- Обновлены empty states для групп, каналов, серверов

### Добавлено
- Иконки: megaphone, Castle, badge-dollar, dimond, dimond-plus
- CSS стили для dock-icon, empty-tab-icon, create-tab

---

## [1A5r2] - 2025-12-15

### Изменено
- Заменены все эмодзи в настройках на SVG иконки
- Кнопка "Выйти" → иконка power
- Кнопка "Админ-панель" → иконка Badge-check
- Исправлена иконка уведомлений в контекстном меню

### Добавлено
- Иконки: pencil-paintbrush, message, messenga-lock, messenge-question, messenge-info

---

## [1A5r1] - 2025-12-15

### Изменено
- Интегрированы SVG иконки вместо эмодзи для основного интерфейса
- Улучшена производительность за счёт кэширования иконок в Service Worker

### Добавлено
- 40+ SVG иконок для интерфейса
- CSS стили для SVG иконок с фильтрами цвета

---

## [1A5h0] - 2025-12-15

### Исправлено
- Проблема со звонками: обновлены TURN серверы для NAT traversal
- Удалён мёртвый код обработчиков `.action-btn`

### Добавлено
- Расширенное логирование WebRTC для отладки
- Улучшенная обработка ошибок при звонках
