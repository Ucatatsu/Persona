# Правила работы с проектом Квант

## Общие правила
1. Используй KVS систему для версионирования + веди CHANGELOG.md
2. Накапливай несколько исправлений в один патч, не коммить каждую мелочь
3. Деплой: `git add -A ; git commit -m "..." ; git push` — коммиты на английском
4. Не создавай лишние файлы в корне проекта

---

## KVS — Kvant Version System

### Формат: `{MAJOR}{ERA}{FEATURE}{TYPE}{PATCH}`

```
Пример: 1A5r3
        │ │ │ │ └── PATCH (0-9) — номер патча
        │ │ │ └──── TYPE (a/b/r/h) — тип сборки
        │ │ └────── FEATURE (0-9) — номер фичи
        │ └──────── ERA (A-Z) — эра разработки
        └────────── MAJOR (1-9) — мажорная версия
```

### Компоненты

| Символ | Название | Значения | Описание |
|--------|----------|----------|----------|
| 1-9 | MAJOR | 1-9 | Глобальная версия продукта |
| A-Z | ERA | A=1, B=2... | Эра/этап разработки внутри мажора |
| 0-9 | FEATURE | 0-9 | Номер крупной фичи в эре |
| a/b/r/h | TYPE | см. ниже | Тип сборки |
| 0-9 | PATCH | 0-9 | Номер патча/стабилизации |

### Типы сборок (TYPE)

| Буква | Название | Когда использовать |
|-------|----------|-------------------|
| `a` | Alpha | Ранняя разработка, нестабильно |
| `b` | Beta | Тестирование, почти готово |
| `r` | Release | Стабильный релиз |
| `h` | Hotfix | Срочное исправление в проде |

### Примеры версий

```
1A0a0  — Первая альфа, начало разработки
1A3b2  — Альфа, фича 3, бета-тест, патч 2
1A5r0  — Релиз фичи 5 в эре A
1A5r3  — Третий патч релиза
1A5h1  — Первый хотфикс после релиза
1B0a0  — Новая эра B началась
2A0a0  — Мажорная версия 2, всё с нуля
```

### Правила переходов

```
1A5r3 → 1A5r4    # обычный патч (накопились фиксы)
1A5r4 → 1A5h0    # срочный хотфикс
1A5h0 → 1A5h1    # ещё хотфикс
1A5h1 → 1A5r5    # вернулись к стабильным релизам
1A5r9 → 1A6a0    # новая фича, начинаем с альфы
1A9r5 → 1B0a0    # новая эра
1Z9r9 → 2A0a0    # новый мажор
```

### Текущая версия

**Было:** `1.5.5` (semver)
**Стало:** `1A5r5` (KVS)

---

## Шаблон коммита

```
{VERSION}: {Краткое описание на английском}

Примеры:
1A5r3: Fix call buttons and group handlers
1A5h0: Hotfix avatar overlay bug
1A6a0: Add video calls feature (alpha)
1B0a0: New era - complete UI overhaul
```
